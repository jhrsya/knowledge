下面是根据面经整理的mysql问题

## mysql存储引擎，除了MysLAM和INnodb，还有哪些？
Memory 存储引擎（也称为 HEAP 存储引擎）：将表数据存储在内存中，适合用于存储临时数据或者缓存数据。

CSV 存储引擎：将数据存储为纯文本 CSV 格式，适合存储大量的日志数据。

Archive 存储引擎：适合存储大量归档数据，支持快速插入和压缩存储，但不支持更新操作。

Blackhole 存储引擎：将数据写入该存储引擎的表时，数据被丢弃而不会实际存储，适用于进行数据同步等操作。

Federated 存储引擎：允许 MySQL 服务器通过网络连接到其他 MySQL 服务器上的表。

NDB Cluster 存储引擎：一种可扩展的、高可用的集群存储引擎，适用于需要大规模扩展的高负载应用程序。


## Innodb使用特性，原理？
- 事务：InnoDB 支持 ACID（原子性、一致性、隔离性和持久性）事务，可以保证数据的完整性和一致性。
- 行级锁：InnoDB 支持行级锁，可以提高并发性能和减少锁冲突，而 MyISAM 只支持表级锁。
- 外键约束：InnoDB 支持外键约束，可以保证数据之间的完整性和一致性。
- MVCC：InnoDB 支持多版本并发控制（MVCC）机制，可以允许读写并发操作，提高并发性能。
- 插入缓冲：InnoDB 支持插入缓冲，可以提高数据插入性能。
- 双写缓冲：InnoDB 支持双写缓冲，可以提高数据持久性，减少数据损坏风险。
- 索引：InnoDB 支持 B-tree 索引，可以提高查询性能。

InnoDB 的原理是基于聚簇索引（clustered index）的存储方式，即将数据按照主键顺序存储在磁盘上，使得主键查询性能更加高效。此外，InnoDB 采用了多版本并发控制（MVCC）机制，允许读操作不被锁住，以避免读写之间的互相阻塞，提高并发性能。MVCC 通过保存数据的不同版本来实现，每个事务看到的数据版本不同，可以避免脏读、不可重复读、幻读等问题。同时，InnoDB 还采用了缓存池（Buffer Pool）技术，将热数据缓存在内存中，减少了磁盘 I/O 操作，提高了性能。

## 事务的特性，隔离级别，除了改变隔离级别怎么解决脏读问题？
事务的特性：原子性，一致性，隔离性和持久性
隔离级别：读未提交，读已提交，可重复读，串行化

脏读问题是由于一个事务读取了另一个事务尚未提交的数据造成的。除了改变隔离级别之外，还可以通过以下几种方式来解决脏读问题：
- 使用行级锁：在读取数据时，使用行级锁对数据进行加锁，这样可以避免其他事务修改该数据，从而保证读取到的数据是正确的。
- 使用乐观锁：在读取数据时，不加锁，而是将数据版本号保存在数据中，每次修改时更新数据版本号，同时检查修改前后数据版本是否一致，如果不一致，则表示数据已被其他事务修改，需要进行回滚。
- 使用悲观锁：在读取数据时，加上排他锁，这样其他事务无法修改该数据，直到当前事务提交或回滚，从而避免其他事务修改数据。

## 乐观锁的实现方式
乐观锁是一种并发控制的方式，其实现方式通常有以下几种：

版本号机制
在数据库中增加一个版本号字段，每次更新时对版本号加 1。在进行并发操作时，读取数据时会获取当前数据的版本号，更新数据时需要比对版本号是否一致，如果不一致则表示数据已经被其他事务修改，需要进行回滚或者重新尝试更新操作。

时间戳机制
类似版本号机制，使用时间戳来标记数据的更新时间，每次更新数据时将更新时间更新为当前时间。在进行并发操作时，读取数据时会获取当前数据的时间戳，更新数据时需要比对时间戳是否一致，如果不一致则表示数据已经被其他事务修改，需要进行回滚或者重新尝试更新操作。

CAS (Compare and Swap) 机制
CAS 是一种乐观锁算法，在 Java 中可以使用 Atomic 包提供的 compareAndSet 方法实现。CAS 的原理是通过比较当前值是否和预期值相同，如果相同则执行更新操作，否则重试更新操作。在数据库中，可以通过实现乐观锁的存储引擎或者使用存储引擎提供的乐观锁功能来实现 CAS 机制。



